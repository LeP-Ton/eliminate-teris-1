# Agent 文档索引

## 当前变更文档
`workflow/20260214235230-rules-core-bullets-record-align-theme.md` - 恢复基础规则与圆点序号，修复挑战记录两侧对齐，并把模块文字改为主题色。
`workflow/20260214233712-rules-panel-simplified-copy.md` - 玩法说明改为简短文案，仅保留模式规则与结算方式两条。
`workflow/20260214231624-rules-panel-rhodes-red.md` - 新增玩法说明模块（红色主题），按规则分类并随模式动态解释玩法。
`workflow/20260214225936-record-tag-offset-3px-spacing-half.md` - 序号 Tag 下移量调整为 3px，挑战记录行间距缩减 50%。
`workflow/20260214225442-record-tag-offset-2px.md` - 序号 Tag 下移量从 4px 调整为 2px，修正过度下沉。
`workflow/20260214224358-record-tag-offset-and-seed-mix.md` - 序号 Tag 下移 4px，挑战记录 seed 改为 9 条与 0/1 条混合分布。
`workflow/20260214223649-record-header-max9-alignment.md` - 去掉挑战记录标题后 Tag，记录上限改为 9，修复序号 Tag 与文字中线对齐。
`workflow/20260214200042-run-script-always-rebuild.md` - 启动脚本改为每次先编译再启动，避免旧版本残留。

## 读取场景
- 需要确认“基础规则已恢复 + 玩法说明圆点序号 + 挑战记录两侧对齐恢复 + 模块文本主题色”时，优先读取 `20260214235230` 文档。
- 需要确认玩法说明“精简文案版（模式规则 + 结算方式）”时，优先读取 `20260214233712` 文档。
- 需要确认玩法说明模块布局、红色主题与模式化文案时，优先读取 `20260214231624` 文档。
- 需要确认“序号 Tag 下移量 3px”与“记录间距减半”时，优先读取 `20260214225936` 文档。
- 需要确认“序号 Tag 下移量从 4px 调整到 2px”时，优先读取 `20260214225442` 文档。
- 需要确认“序号 Tag 下移 4px”与“部分模式 0/1 条 seed”时，优先读取 `20260214224358` 文档。
- 需要确认挑战记录标题简化、记录上限、序号对齐的实现时，优先读取 `20260214223649` 文档。
- 遇到“`./run.sh` 启动还是旧版本”时，优先读取此文档。
- 需要确认启动脚本中构建与二进制定位策略时，优先读取此文档。

## 关键记忆
- `run.sh` 现在每次执行都先 `swift build --disable-sandbox`。
- 启动路径通过 `swift build --show-bin-path` 计算，不再依赖手动拼接构建目录。
- 挑战记录头部不再显示模式/细分 Tag，序号 Tag 对齐通过 `baselineOffset` 微调。
- 模式记录分桶上限为 9，加载后会对历史桶执行排序与裁剪。
- 序号 Tag 当前使用 `attachment.bounds.y = -3` 做视觉下移；seed 分布为“满 9 条 + 部分分组 0/1 条”；挑战记录 `lineSpacing` 为 `3.5`。
- 玩法说明模块位于 `cardsStack` 下方，使用红色 `PixelFrameCardView`，按分类文案动态解释当前模式规则。
- 玩法说明当前采用更短文案：模式标题 + 两条规则（模式规则、结算方式），并随模式/子规则动态更新。
- 玩法说明现已补回“基础规则”并统一 `•` 圆点样式；挑战记录会在布局宽度变化时重建富文本，确保“排名+得分/日期”保持两侧对齐。
- 游戏设置/时间与得分/挑战记录模块标题与主要内容文本统一为蓝/绿/橙主题色，避免白色正文与主题割裂。
